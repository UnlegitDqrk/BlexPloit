package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Titel extends Command {

	public Titel() {
		super("titel", "Sende jemanden einen Titel", TabManager.INSERT_PLAYERNAME, "nachricht");
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length >= 3) {
			Player victim = api.Get.victim(args, 1);
			if (victim != null) {
				String toSend = api.Get.nextArgs(args, 2).replace("&", "§");
				victim.sendTitle(toSend, null, 5, 100, 5);
					this.SpielerInfo(mt, "hat §c" + victim.getName() + this.CHAT_COLOR + " den Titel \"§r" + toSend
							+ this.CHAT_COLOR + "\" gesendet.");
			} else {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
			}
		} else {
			mt.fehler(Fehler.ARGUMENT_EXCEPTION);
			mt.benutze(this);
		}
	}

}
