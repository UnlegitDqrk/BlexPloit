package de.blexploit.command.cmds;

import org.bukkit.ChatColor;
import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Specialkick extends Command {

	public Specialkick() {
		super("specialkick", "Lustige Kicknachrichten", TabManager.INSERT_PLAYERNAME, "nichtwarten/matrix");
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length == 3) {
			Player victim = api.Get.victim(args, 1);
			if (victim != null) {
				switch (args[2].toLowerCase()) {
				case "nichtwarten":
					this.nichtwarten(victim);
					break;
				case "matrix":
					this.matrix(victim);
					break;
				default:
					break;
				}
			} else {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
			}
		} else {
			mt.fehler(Fehler.ARGUMENT_EXCEPTION);
			mt.benutze(this);
		}
	}

	private void nichtwarten(Player victim) {
		String abstand = "";
		for (int i = 0; i < 100; i++) {
			abstand = abstand + "\n";
		}
		victim.kickPlayer(abstand + ChatColor.RED + "Warnung" + "\n" + "\n" + ChatColor.WHITE
				+ "Sie dürfen unter keinen Umständen dieses Fenster" + "\n"
				+ "schließen oder ihren Computer herunterfahren!" + "\n" + ChatColor.WHITE
				+ "\n" + "\n" + ChatColor.DARK_RED
				+ "Bitte warten Sie nicht...\n" + abstand);
	}

	private void matrix(Player victim) {
		String randomText = "";
		char c = 'a';
		for (int i = 0; i < 40; i++) {
			String line = "§2";
			for (int j = 0; j < 110; j++) {
				if (c != 'z') {
					if (j % 3 == 0) {
						line = line + ChatColor.MAGIC + c;
					} else if (j % 2 == 0) {
						line = line + "§a" + c;
					} else {
						line = line + "§2" + c;
					}
				} else {
					c = 'a';
				}
				c++;
			}
			randomText = randomText + line + "\n";
		}
		victim.kickPlayer(randomText);
	}

}
