package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import api.PacketManager;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class Kontrast extends Command {

	public Kontrast() {
		super("kontrast", "Änder die Farbe vom Spiel", TabManager.INSERT_PLAYERNAME, TabManager.INSERT_NUMBER);
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length == 3) {
			Player victim = api.Get.player(args[1]);
			if (victim == null) {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
				mt.benutze(this);
				return;
			}
			try {
				final int ID = Integer.valueOf(args[2]);
				PacketManager packetPlayOutGameStateChange = new PacketManager("PacketPlayOutGameStateChange",
						int.class, float.class);
				switch (ID) {
				case 1:
					packetPlayOutGameStateChange.sendTo(victim, 7, 12);
					break;
				case 2:
					packetPlayOutGameStateChange.sendTo(victim, 7, 30);
					break;
				case 3:
					packetPlayOutGameStateChange.sendTo(victim, 7, 40000);
					break;
				case 4:
					packetPlayOutGameStateChange.sendTo(victim, 7, 20000);
					break;
				case 5:
					packetPlayOutGameStateChange.sendTo(victim, 7, 19500);
					break;
				default:
					mt.fehler("Diese ID liegt nicht im Eingabebereich!");
					this.help(mt);
					break;
				}
				this.SpielerInfo(mt, "hat §c" + victim.getName() + this.CHAT_COLOR + " erblinden lassen!");
			} catch (NumberFormatException e) {
				mt.fehler(Fehler.NUMBER_FORMAT_EXCEPTION);
				this.help(mt);
			}
		} else {
			mt.benutze(this);
		}
	}

	private void help(MittrollerEntity mt) {
		mt.benutze(this);
		mt.sendMessage("§aids:");
		mt.sendMessage("§b<1> Himmel = Dunkelblau");
		mt.sendMessage("§b<2> Himmel = Hellblau");
		mt.sendMessage("§b<3> Blöcke = Rot");
		mt.sendMessage("§b<4> Blöcke = Rot & Grün");
		mt.sendMessage("§b<5> Verpixelte Texturen");
	}
}
