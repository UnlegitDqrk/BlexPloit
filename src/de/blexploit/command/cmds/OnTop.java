package de.blexploit.command.cmds;

import org.bukkit.entity.Player;

import api.Fehler;
import de.blexploit.command.Command;
import de.blexploit.manager.TabManager;
import de.blexploit.players.create.MittrollerEntity;

public final class OnTop extends Command {

	public OnTop() {
		super("ontop", "Teleportiert dich auf den höchsten Block über dir", TabManager.INSERT_PLAYERNAME);
	}

	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length > 1) {
			Player toTp = api.Get.player(args[0]);
			if (toTp != null) {
				toTp.teleport(toTp.getWorld().getHighestBlockAt(toTp.getLocation()).getLocation());
			} else {
				mt.fehler(Fehler.PLAYER_NOT_FOUND);
			}
		} else {
			mt.getPlayer()
					.teleport(mt.getPlayer().getWorld().getHighestBlockAt(mt.getPlayer().getLocation()).getLocation());
		}
	}

}
