package de.blexploit.inventory.items.EINZELTROLL;

import org.bukkit.Location;
import org.bukkit.Material;
import org.bukkit.entity.TNTPrimed;

import de.blexploit.inventory.creator.Bereich;
import de.blexploit.inventory.creator.InvItem;
import de.blexploit.players.Getrollts;
import de.blexploit.players.create.GetrolltEntity;
import de.blexploit.players.create.MittrollerEntity;

public final class TntRegen extends InvItem {

	public TntRegen() {
		super("TntRegen", "Lässt es TNT Regnen, KABOOM!", Material.TNT, 0, Bereich.EINZELTROLL, false);
	}

	@Override
	public void right_click(MittrollerEntity mt) {
		this.spielerInfo(mt, "ist ein explusiver Regenexperte!");
		for (GetrolltEntity gt : Getrollts.getOnlines()) {
			Location loc = gt.getPlayer().getLocation();
			loc = loc.getWorld().getHighestBlockAt(loc).getLocation().add(0, 50, 0);
			for (int x = -5; x < 5; x++) {
				for (int z = -5; z < 5; z++) {
					Location st = new Location(loc.getWorld(), loc.getX() + x * 4, loc.getY(), loc.getZ() + z * 4);
					st.getWorld().spawn(st, TNTPrimed.class);
				}
			}
		}
	}

}
