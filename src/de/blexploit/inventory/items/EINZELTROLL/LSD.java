package de.blexploit.inventory.items.EINZELTROLL;

import org.bukkit.Material;
import org.bukkit.potion.PotionEffect;
import org.bukkit.potion.PotionEffectType;

import de.blexploit.inventory.creator.Bereich;
import de.blexploit.inventory.creator.InvItem;
import de.blexploit.players.Getrollts;
import de.blexploit.players.create.GetrolltEntity;
import de.blexploit.players.create.MittrollerEntity;

public final class LSD extends InvItem {

	public LSD() {
		super("LSD", "Der Spieler hat alle Effekte", Material.PUMPKIN, 0, Bereich.EINZELTROLL, true);
	}

	@Override
	public void onEnable(MittrollerEntity mt) {
		spielerInfo(mt, "ist ein richtiger Dealer!", 0);

		for (PotionEffectType get : PotionEffectType.values()) {
			for (GetrolltEntity gt : Getrollts.getOnlines()) {
				if (get != null) {
					gt.getPlayer().addPotionEffect(new PotionEffect(get, Integer.MAX_VALUE, 500));
				}
			}
		}

	}

	@Override
	public void onDisable(MittrollerEntity mt) {
		spielerInfo(mt, "dealt nicht mehr.", 0);
		for (GetrolltEntity gt : Getrollts.getOnlines()) {
			for (PotionEffectType pt : PotionEffectType.values()) {
				if (pt != null) {
					if (gt.getPlayer().hasPotionEffect(pt)) {
						gt.getPlayer().removePotionEffect(pt);
					}
				}
			}
		}
	}

}
