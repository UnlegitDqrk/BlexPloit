package de.blexploit.inventory.items.GRIEF.PacMan;

import org.bukkit.Material;
import org.bukkit.entity.FallingBlock;

import de.blexploit.inventory.creator.Bereich;
import de.blexploit.inventory.creator.InvItem;
import de.blexploit.players.create.MittrollerEntity;

public final class PacManInvItem extends InvItem {

	public PacManInvItem() {
		super("PacMan", "(R)Erschafft einen PacMan.;(L)Stoppt ihn wieder", Material.DOUBLE_PLANT,
				0, Bereich.GRIEFING, false);
	}

	@Override
	public void right_click(MittrollerEntity mt) {
		this.spielerInfo(mt, "spielt gerne RetroGames.");
		FallingBlocks.spawn(api.Get.targetLoc(mt.getPlayer()).add(0, 1, 0));
		Sheduler.start();
	}

	@Override
	public void left_click(MittrollerEntity mt) {
		this.spielerInfo(mt, "hasst RetroGames :(");
		Sheduler.stop();
		for (FallingBlock fb : FallingBlocks.activPac) {
			if (fb != null) {
				if (fb.isDead() == false) {
					fb.remove();
				}
			}
		}
		FallingBlocks.activPac.clear();
	}

}
