package de.blexploit.inventory.items.TROLL;

import java.util.ArrayList;

import org.bukkit.Location;
import org.bukkit.Material;
import org.bukkit.entity.Entity;
import org.bukkit.entity.EntityType;
import org.bukkit.entity.Player;

import de.blexploit.inventory.creator.Bereich;
import de.blexploit.inventory.creator.InvItem;
import de.blexploit.players.create.MittrollerEntity;

public final class SpawnAlles extends InvItem {
	
	private ArrayList<Entity> entities = new ArrayList<Entity>();
	
	public SpawnAlles() {
		super("Spawnmob alles", "Ein Chaos von Mobs gefällig?", Material.LONG_GRASS, 0, Bereich.TROLLING, false);
	}

	@Override
	public void right_click(MittrollerEntity mt) {
		this.spielerInfo(mt, "ist sehr unordentlich was Entitys angeht!");
		Location l = api.Get.targetLoc(mt.getPlayer());
		for (EntityType e : EntityType.values()) {
			if (e != null) {
				if (e.isSpawnable()) {
					try {
						Entity spawned = l.getWorld().spawnEntity(l.add(api.Get.rand(-5, 5), api.Get.rand(-5, 5), api.Get.rand(-5, 5)),
								e);
						entities.add(spawned);
					} catch (Exception e2) {
					}
				}
			}
		}
	}

	@Override
	public void left_click(MittrollerEntity mt) {
		this.spielerInfo(mt, "hat alle gespawnten Tiere wieder eingesperrt :(");
		for (Entity e : entities) {
			if (!(e instanceof Player)) {
				if (e != null) {
					e.remove();
				}
			}

		}
	}
}
