package de.blexploit;

import java.io.File;

import org.bukkit.Bukkit;
import org.bukkit.Material;
import org.bukkit.inventory.ItemStack;
import org.bukkit.plugin.PluginManager;
import org.bukkit.plugin.java.JavaPlugin;
import api.Inventory.ScreenManager;
import de.blexploit.inventory.creator.InvItemManager;
import de.blexploit.manager.InvProtectManager;

public final class Start extends JavaPlugin {
	final public static String prefix = "§6✸§d§oBleX§9Ploit§r§6✸ §a";
	final public static String Befehlzeichen = "*";

	final InvItemManager invm = new InvItemManager();
	public static Start instance;
	public static boolean activate = true;
	public static final ItemStack give_item = api.ItemStackBlex.create(Material.MELON_SEEDS, "§7❖§eBleX§6Ploit§d§7❖",
			"§eInventory:§c Öffnen", 1);
	public static File datei = null;
	public static String pluginYmlName = "";
	public static String pluginYmlMain = "";

	@Override
	public void onEnable() {
		datei = this.getFile();
		instance = this;
		this.invm.init();
		new ScreenManager(this);
		this.register();
		pluginYmlName = this.getDescription().getName();
		pluginYmlMain = this.getDescription().getMain();
		InvProtectManager.searchForItem();

		//Als Beispiel, wie man einen Spieler permanent hinzufügen könnte
		//de.blexploit.players.Mittrollers.add("SpunkyStyle", true);
		//de.blexploit.players.Mittrollers.add("CrashDeZZ", true);
	}

	@Override
	public void onDisable() {
		InvProtectManager.clearBeforeReload();
	}

	private void register() {
		final PluginManager pm = Bukkit.getPluginManager();
		pm.registerEvents(new System(), this);
		pm.registerEvents(new de.blexploit.inventory.open.TrollModus(), this);
		pm.registerEvents(new de.blexploit.inventory.InvItemClick(), this);
		pm.registerEvents(new de.blexploit.manager.InvProtectManager(), this);
		pm.registerEvents(new api.Godmode(), this);
		pm.registerEvents(new api.NoMove(), this);
	}

}
